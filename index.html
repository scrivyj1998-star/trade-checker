<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tap Jumper</title>
<style>
  body {
    margin: 0;
    background: black;
    overflow: hidden;
  }
  canvas {
    display: block;
    margin: auto;
    background: #111;
    touch-action: none;
  }
</style>
</head>
<body>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = 300;

let player = {
  x: 50,
  y: 220,
  size: 30,
  velY: 0,
  jump: false
};

let gravity = 1;
let obstacleX = canvas.width;
let speed = 6;
let dead = false;

function tap() {
  if (!player.jump && !dead) {
    player.velY = -15;
    player.jump = true;
  }
}

document.addEventListener("touchstart", tap);
document.addEventListener("mousedown", tap);

function draw() {
  if (dead) return;

  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // player
  player.velY += gravity;
  player.y += player.velY;

  if (player.y >= 220) {
    player.y = 220;
    player.jump = false;
    player.velY = 0;
  }

  ctx.fillStyle = "cyan";
  ctx.fillRect(player.x, player.y, player.size, player.size);

  // obstacle
  obstacleX -= speed;
  if (obstacleX < -40) obstacleX = canvas.width + 200;

  ctx.fillStyle = "red";
  ctx.fillRect(obstacleX, 240, 40, 60);

  // collision
  if (
    player.x < obstacleX + 40 &&
    player.x + player.size > obstacleX &&
    player.y + player.size > 240
  ) {
    dead = true;
    alert("Game Over");
  }

  requestAnimationFrame(draw);
}

draw();
</script>

</body>
</html>